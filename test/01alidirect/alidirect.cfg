
{ //一个北端设备的配置
    //北端设备类型可选:
    //  直连设备:alidirect
    //  网关设备:aligatewaydevmqtt
    objtype       = "alidirect";

    name          = "direct001"; //DeviceName
    RegionId      = "cn-shanghai";
    DeviceId      = "12345678"; //mac or sn
    ProductKey    = "a1sHtUdPTd5";
    DeviceSecret  = "87a7630deb0826040ec9c44030cf6a80";
    Mode          = 3;
    SignMethod    = "hmacsha1"; //hmacsha1 hmacmd5

    port          = 1883; //mqttbroker port
    clean_session = true;
    keepalive     = 60;
    qos           = 2;

    properties = { //属性
        WifiSwitch = "wireless.wifi";
    };

    shell = {
        WifiSwitch = { get = "cat ~/WifiSwitch"; set = "echo ? ~/WifiSwitch"; };
        WifiName = { get = "cat ~/WifiName"; set = "echo ? ~/WifiName"; };
        CpuUsage = { get = "cat ~/CpuUsage"; set = "echo ? ~/CpuUsage"; }
    };

    subtopics = [ //订阅以下主题
        "/sys/{ProductKey}/{DeviceName}/thing/service/property/set",
        "/{ProductKey}/{DeviceName}/user/get"
    ];

    tasksls = ( //多个任务
        { //第1个任务 可以一个任务上传多个属性
            type = "period";
            interval = 30;
            pubtopic = "/sys/{ProductKey}/{DeviceName}/thing/event/property/post";
            payloadprefix = "{\"id\":\"{count}\",\"version\":\"1.0\",\"sys\":{\"ack\":0},\"params\":{";
            properties = ("WifiSwitch","WifiName","CpuUsage");
            reference = "shell";
            propertyfmt = "\"{key}\":{\"value\":{value},\"time\":{milliseconds}}}";
            payloadsuffix = "\"method\":\"thing.event.property.post\"}";
        },
        { //第2个任务 我想要这个任务上传时间间隔长一点
            type = "period";
            interval = 60;
            pubtopic = "/sys/{ProductKey}/{DeviceName}/thing/event/property/post";
            payloadprefix = "{\"id\":\"{count}\",\"version\":\"1.0\",\"sys\":{\"ack\":0},\"params\":{";
            properties = ("WifiSwitch","WifiName");
            reference = "shell";
            propertyfmt = "\"{key}\":{\"value\":{value},\"time\":{milliseconds}}}";
            payloadsuffix = "\"method\":\"thing.event.property.post\"}";
        },
        { //第3个任务 我想要这个任务在某数据发生变化才上传该数据
            type = "event";
            interval = 60;
            pubtopic = "/sys/{ProductKey}/{DeviceName}/thing/event/property/post";
            payloadprefix = "{\"id\":\"{count}\",\"version\":\"1.0\",\"sys\":{\"ack\":0},\"params\":{";
            properties = ("WifiSwitch","WifiName");
            reference = "shell";
            propertyfmt = "\"{key}\":{\"value\":{value},\"time\":{milliseconds}}}";
            payloadsuffix = "\"method\":\"thing.event.property.post\"}";
        }
    );
}
